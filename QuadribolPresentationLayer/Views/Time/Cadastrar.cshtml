
@{
    ViewBag.Title = "Cadastrar";
}

<h1>Cadastrar </h1>

<div class="form-horizontal">

    <form method="post">

        @{
            string casa = "";
        }

        @{
            List<Entity.Competidor> competidores = ViewBag.Competidores;
            Entity.Enums.Funcao funcao = Entity.Enums.Funcao.Apanhador;
            int i2 = 1;
        }

        <div class="form-group">
            <label class="control-label col-md-2">Casa do Time</label>
            <div class="col-md-10">
                <input name="Casa" id="Casa" type="text"
                    @foreach (var item in ViewBag.Time)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            casa = Enum.GetName(typeof(Entity.Enums.Casa), item.Casa);
                        }
                    }
                    value="@casa" readonly />
            </div>
        </div>

        @for (int i = 0; i < 7; i++)
        {
            string nome;

            if (i > 0)
            {
                if (competidores[i].Funcao != funcao)
                {
                    i2 = 1;
                }
            }

            if (competidores[i].Funcao == Entity.Enums.Funcao.Apanhador || competidores[i].Funcao == Entity.Enums.Funcao.Goleiro)
            {
                nome = competidores[i].Funcao.ToString();
            }
            else
            {
                nome = competidores[i].Funcao.ToString() + " " + i2;
            }

            <div class="form-group">
                <label class="control-label col-md-2">@nome</label>
                <div class="col-md-10">
                    <select class="form-control" name="viewModel" id="viewModel">
                        @foreach (var item in competidores)
                        {
                            if (item.Casa == ViewBag.Casa)
                            {
                                if (item.Funcao == competidores[i].Funcao)
                                {
                                    <option value="@item.ID">@item.Nome</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>

            i2++;

            funcao = competidores[i].Funcao;

        }

        @*

        @{
            List<Entity.Competidor> competidores = ViewBag.Competidores;
        }

        <div class="form-group">
            <label class="control-label col-md-2">Artilheiro 1</label>
            <div class="col-md-10">
                <select class="form-control" name="Artilheiro1" id="Artilheiro1">
                    @foreach (var item in competidores)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            if (item.Funcao == Entity.Enums.Funcao.Artilheiro)
                            {
                                <option value="@item.ID">@item.Nome</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Artilheiro 2</label>
            <div class="col-md-10">
                <select class="form-control" name="Artilheiro2" id="Artilheiro2">
                    @foreach (var item in ViewBag.Competidores)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            if (item.Funcao == Entity.Enums.Funcao.Artilheiro)
                            {
                                <option value="@item.ID">@item.Nome</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Artilheiro 3</label>
            <div class="col-md-10">
                <select class="form-control" name="Artilheiro3" id="Artilheiro3">
                    @foreach (var item in ViewBag.Competidores)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            if (item.Funcao == Entity.Enums.Funcao.Artilheiro)
                            {
                                <option value="@item.ID">@item.Nome</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        }


        <div class="form-group">
            <label class="control-label col-md-2">Batedor 1</label>
            <div class="col-md-10">
                <select class="form-control" name="Batedor1" id="Batedor1">
                    @foreach (var item in ViewBag.Competidores)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            if (item.Funcao == Entity.Enums.Funcao.Batedor)
                            {
                                <option value="@item.ID">@item.Nome</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Batedor 2</label>
            <div class="col-md-10">
                <select class="form-control" name="Batedor2" id="Batedor2">
                    @foreach (var item in ViewBag.Competidores)
                    {
                        if (item.Casa == ViewBag.Casa)
                        {
                            if (item.Funcao == Entity.Enums.Funcao.Batedor)
                            {
                                <option value="@item.ID">@item.Nome</option>
                            }
                        }
                    }
                </select>
            </div>
        </div>
        }

        @{

            <div class="form-group">
                <label class="control-label col-md-2">Apanhador</label>
                <div class="col-md-10">
                    <select class="form-control" name="Apanhador" id="Apanhador">
                        @foreach (var item in ViewBag.Competidores)
                        {
                            if (item.Casa == ViewBag.Casa)
                            {
                                if (item.Funcao == Entity.Enums.Funcao.Apanhador)
                                {
                                    <option value="@item.ID">@item.Nome</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>

        }

        @{

            <div class="form-group">
                <label class="control-label col-md-2">Goleiro</label>
                <div class="col-md-10">
                    <select class="form-control" name="Goleiro" id="Goleiro">
                        @foreach (var item in ViewBag.Competidores)
                        {
                            if (item.Casa == ViewBag.Casa)
                            {
                                if (item.Funcao == Entity.Enums.Funcao.Goleiro)
                                {
                                    <option value="@item.ID">@item.Nome</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>

        }*@

        <div class="form-group">
            <div class="col-md-10">
                <input name="CadastrarTime" id="CadastrarTime" type="submit" value="Cadastrar Time" />
            </div>
        </div>
    </form>
</div>


    @section scripts{

        <script type="text/javascript">

            $(document).ready(function () {

                $("#CadastrarTime").click(function (e) {

                    var sucesso = true;

                    if (!sucesso) {
                        e.preventDefault();
                    }

                });

            });
        </script>

    }
